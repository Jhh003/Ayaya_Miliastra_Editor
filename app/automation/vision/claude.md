## 目录用途
- 统一封装自动化层使用的视觉识别能力（节点/端口检测、OCR 标题抽取与映射、一步式整屏识别缓存等）。
- 对上层（执行器、工具脚本、UI 调试入口）暴露稳定的 `app.automation.vision` 门面 API，内部委托给 `vision_backend` 与 `node_detection` 等具体实现。

## 当前状态
- `__init__.py`：视觉门面（Facade），提供节点列表、端口列表、缓存失效、标题映射日志、相位相关位移估计等高层 API，并对外隐藏底层实现细节。
- `vision_backend.py`：核心视觉识别后端，实现截图区域裁剪、OCR 标题提取与近似映射、节点/端口坐标转换与缓存管理等逻辑，调用一步式识别时对端口模板使用约 0.8 的基础置信度阈值，并在底层识别器中对部分流程端口模板（如 Process 系列）使用不高于 70% 的匹配阈值、对部分泛型数据端口模板（如 Generic 系列）使用不高于 75% 的匹配阈值，以在保持整体精度的前提下提高关键端口的识别召回率。
- `ocr_utils.py`：OCR 引擎获取与中文文本抽取工具函数，统一封装 RapidOCR 使用方式。
- `node_detection.py`：基于模板匹配/色块检测等能力的节点与端口检测辅助逻辑。

## 注意事项
- 所有运行时代码与 CLI 工具如需调用视觉识别能力，应通过 `app.automation.vision` 入口导入，不直接依赖 `tools/*` 中的实现脚本。
- 窗口客户区截图等能力位于 `app.automation.capture`；`app.automation.vision` 仅在需要时做薄转发，避免在视觉门面中引入额外耦合。
- 模块内不做异常吞没，错误应直接抛出交由调用方或全局异常钩子处理。
- 避免在此处硬编码具体工作区路径或外部资源位置，统一通过工作区解析与配置获取资源目录（如 OCR 模板路径）。


