## 目录用途
承载 `GraphView` 中使用的弹出式交互组件，目前主要是“添加节点”弹窗，提供节点搜索、筛选与自动连接入口。

## 当前状态
- `add_node_popup.py` 提供独立的 `AddNodePopup` 窗口，实现节点过滤、复合节点分组、作用域切换、分类展开/收起以及自动连接回调绑定。
- 由 `AddNodeMenuBridge` 动态创建，`GraphView` 不直接管理其生命周期，仅保存 `_add_node_popup` 引用以便关闭旧实例。

## 注意事项
- 弹窗依赖注入的 `node_library` 与回调来完成节点创建；构造函数只负责 UI 与选择逻辑，切勿在此写文件操作。
- 关闭弹窗使用 `close()` 即可，不需要强制销毁；桥接层会在下一次创建前关闭旧实例，避免同屏多个弹窗。
- 触发自动连接时需要场景提供 `auto_connect_new_node` 方法，如在只读模式下该方法可能不可用，需在上层判定。
- 弹窗外观通过主题 token（Colors/Sizes/Gradients）统一控制深浅主题下的背景与文字对比度，节点类别文字颜色统一复用 `Colors.NODE_CATEGORY_*`（含深色变体），确保与节点标题栏和 Todo 步骤颜色保持一致；如需调整整体视觉，优先在样式表或主题 token 上动手，而不是在业务逻辑中零散改色。

