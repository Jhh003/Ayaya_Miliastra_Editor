# Python
__pycache__/
*.py[cod]
*.pyo
*.pyd
*.egg-info/
.eggs/
build/
dist/
.mypy_cache/
.pytest_cache/
.ruff_cache/
*.log
.coverage
coverage.xml

# Virtual env
.venv/
venv/
env/
.env
.env.*/

# IDE / Editors
.idea/
.vscode/
.cursor/

# OS artifacts
Thumbs.db
.DS_Store

# Jupyter notebooks（只在本地使用，不进仓库）
*.ipynb

# Project caches and local state
runtime/cache/
app/runtime/cache/
app/runtime/todo_states/
user_settings.json

# 防止误把 workspace_path 指到 engine/ 导致缓存跑到 engine/app/runtime/cache
engine/app/runtime/cache/

# Directory rules docs:
# - Public directories: `claude.md` is versioned to document purpose/state/notes.
# - Private directories: rely on the directory-level ignore rules below (docs/, projects/, assets/资源库/** ...).

# 旧版 runtime 缓存路径（兼容历史）
runtime/graph_cache/
runtime/resource_cache/
runtime/node_cache/
runtime/name_sync_state.json

# 本地私有工程目录（不随仓库分发 / 展示型发布不公开）
docs/
projects/

# 本地私有打包脚本目录（不进仓库）
tools/packaging/

# ---------- 资源库上传策略 ----------
# 默认忽略整个资源库内容
assets/资源库/**

# 但保留资源库及其子目录结构本身，便于后续精细控制
!assets/资源库/
!assets/资源库/**/

# 允许：以“示例_”或“模板示例_”开头的资源文件（任意子目录、任意后缀）
!assets/资源库/**/示例_*
!assets/资源库/**/模板示例_*

# 节点图前导脚本（生成的节点图代码会 `from _prelude import *` 依赖它；必须随仓库分发）
!assets/资源库/节点图/server/_prelude.py
!assets/资源库/节点图/server/_prelude.pyi
!assets/资源库/节点图/client/_prelude.py
!assets/资源库/节点图/client/_prelude.pyi

# 节点图快速校验脚本（便于只在资源库维度做校验）
!assets/资源库/节点图/校验节点图.py

# 节点图目录规则文档（只放行节点图相关 claude.md，避免扩大资源库入库范围）
!assets/资源库/节点图/claude.md
!assets/资源库/节点图/server/claude.md
!assets/资源库/节点图/server/模板示例/claude.md
!assets/资源库/节点图/client/claude.md
!assets/资源库/节点图/client/技能节点图/claude.md
!assets/资源库/节点图/client/本地过滤器节点图/claude.md

# 明确白名单：复合节点模板（用于公开测试与示例）
!assets/资源库/复合节点库/composite_多引脚模板_示例.py

# 但即使被白名单放行，也必须继续忽略编译产物与缓存目录/文件（否则会把 .pyc 等带进仓库）
assets/资源库/**/__pycache__/
assets/资源库/**/*.py[cod]
assets/资源库/**/*.pyo
assets/资源库/**/*.pyd

# 明确白名单：官方内置"信号/结构体全类型示例"及其功能包
!assets/资源库/管理配置/结构体定义/struct_all_supported_types_example.py
!assets/资源库/管理配置/信号/signal_all_supported_types_example.py
!assets/资源库/地图索引/pkg_示例_信号全参数类型.json

# 明确白名单：资源库全类型示例功能包索引
!assets/资源库/功能包索引/pkg_示例_资源库全类型.json

# 明确白名单：模板示例节点图依赖的教学示例信号（用于 CI 回归）
!assets/资源库/管理配置/信号/signal_example_pedal_switch_state.py
!assets/资源库/管理配置/信号/signal_example_pedal_switch_activation_ack.py

# 如需额外的测试资源，可以在此处增加精确白名单，例如：
# !assets/资源库/实例/测试_关卡1.json
# !assets/资源库/实例/测试用/**

